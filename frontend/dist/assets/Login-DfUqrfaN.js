import{a as x,r as o,j as e,L as j,b as g}from"./index-D_DsbWCf.js";import{O as w}from"./Button-DzU7FP4E.js";function v(){const{n:h}=x(),[r,p]=o.useState({username:"",password:""}),[s,u]=o.useState({}),[d,c]=o.useState(!1),[n,i]=o.useState(""),m=a=>{const{name:t,value:k}=a.target;p(l=>({...l,[t]:k})),s[t]&&u(l=>({...l,[t]:""})),n&&i("")},y=()=>{const a={};return r.username.trim()||(a.username="Username is required"),r.password||(a.password="Password is required"),u(a),Object.keys(a).length===0},f=async a=>{if(a.preventDefault(),!!y()){c(!0),i("");try{await g.login(r),h("home")}catch(t){i(t.message||"Login failed. Please try again.")}finally{c(!1)}}};return e.jsx("section",{className:"oyk-page oyk-auth",children:e.jsxs("div",{className:"oyk-auth-container",children:[e.jsxs("div",{className:"oyk-auth-header",children:[e.jsx("h1",{className:"oyk-auth-header-title",children:"Sign in to your account"}),e.jsxs("p",{className:"oyk-auth-header-subtitle",children:["Or"," ",e.jsx(j,{routeName:"register",className:"oyk-auth-header-subtitle",children:"create a new account"})]})]}),e.jsxs("form",{className:"oyk-auth-form",onSubmit:f,children:[n&&e.jsx("div",{className:"oyk-auth-error",children:e.jsx("div",{className:"oyk-auth-error-message",children:n})}),e.jsxs("div",{className:"oyk-auth-field",children:[e.jsx("label",{htmlFor:"username",className:"oyk-auth-field-label",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:r.username,onChange:m,className:`oyk-auth-field-input ${s.username?"oyk-auth-field-input--error":""}`,placeholder:"Enter your username"}),s.username&&e.jsx("p",{className:"oyk-auth-field-error",children:s.username})]}),e.jsxs("div",{className:"oyk-auth-field",children:[e.jsx("label",{htmlFor:"password",className:"oyk-auth-field-label",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r.password,onChange:m,className:`oyk-auth-field-input ${s.password?"oyk-auth-field-input--error":""}`,placeholder:"Enter your password"}),s.password&&e.jsx("p",{className:"oyk-auth-field-error",children:s.password})]}),e.jsx(w,{type:"submit",color:"primary",disabled:d,block:!0,children:d?"Signing in...":"Sign in"})]})]})})}export{v as default};
